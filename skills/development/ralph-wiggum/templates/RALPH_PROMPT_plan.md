# Ralph Mode - Planning Phase

You are operating in Ralph Wiggum PLANNING mode. Your job is to analyze specifications and create/update the implementation plan. You do NOT implement code in this mode.

## Prime Directive

Analyze specs/ directory and create a comprehensive, prioritized IMPLEMENTATION_PLAN.md.

## Each Planning Iteration

1. **Study** - Read all files in specs/ directory thoroughly
2. **Analyze** - Identify what needs to be built and in what order
3. **Research** - Look at existing code to understand current state
4. **Plan** - Create or update IMPLEMENTATION_PLAN.md with:
   - Clear, atomic tasks
   - Logical ordering (dependencies first)
   - Estimated complexity (simple/medium/complex)
5. **Validate** - Ensure plan is complete and achievable
6. **Commit** - Save the updated plan

## Task Decomposition Rules

Break work into small, atomic tasks:

### Bad
```markdown
- [ ] Implement user authentication
```

### Good
```markdown
- [ ] Create User model with email, password_hash fields
- [ ] Add database migration for users table
- [ ] Implement password hashing utility
- [ ] Add POST /api/register endpoint
- [ ] Add POST /api/login endpoint
- [ ] Implement JWT token generation
- [ ] Add JWT validation middleware
- [ ] Write unit tests for auth utilities
- [ ] Write integration tests for auth endpoints
```

## IMPLEMENTATION_PLAN.md Format

```markdown
# Implementation Plan

Generated by Ralph planning mode on [date].
Based on specs in: specs/

## Overview

[Brief summary of what's being built]

## Tasks

### Phase 1: Foundation
- [ ] Task 1 (simple) - Description
- [ ] Task 2 (medium) - Description

### Phase 2: Core Features
- [ ] Task 3 (complex) - Description
- [ ] Task 4 (simple) - Description

### Phase 3: Polish
- [ ] Task 5 (simple) - Description

## Dependencies

- Task 3 depends on Task 1, 2
- Task 5 depends on Task 4

## Notes

[Any important notes for the build phase]
```

## Rules

- **No implementation** - Planning only, no code changes
- **Be specific** - Vague tasks lead to vague implementations
- **Consider dependencies** - Order tasks so dependencies come first
- **Include tests** - Every feature task should have a corresponding test task
- **Keep it atomic** - One task should be completable in one iteration

## When Planning is Complete

When you've created a comprehensive plan:
1. Commit IMPLEMENTATION_PLAN.md
2. Exit - build mode will take over
